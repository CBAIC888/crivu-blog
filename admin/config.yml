backend:
  name: github
  repo: CBAIC888/crivu-blog
  branch: main
  base_url: https://cbc688.com
  auth_endpoint: /api/auth
  commit_messages:
    create: "content: create {{collection}} '{{slug}}'"
    update: "content: update {{collection}} '{{slug}}'"
    delete: "content: delete {{collection}} '{{slug}}'"
    uploadMedia: "media: upload '{{path}}'"
    deleteMedia: "media: delete '{{path}}'"

media_folder: "assets/img/uploads"
public_folder: "/assets/img/uploads"
publish_mode: editorial_workflow

collections:
  - name: "content"
    label: "內容中心"
    files:
      - name: "posts"
        label: "文章列表"
        file: "posts/posts.json"
        format: "json"
        fields:
          - label: "文章"
            name: "items"
            widget: "list"
            summary: "{{fields.date}} · {{fields.title}}"
            hint: "封面可上傳圖片，內文為 Markdown（支援圖片）。"
            fields:
              - { label: "標題", name: "title", widget: "string" }
              - { label: "日期", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
              - { label: "分類", name: "category", widget: "string" }
              - label: "標籤"
                name: "tags"
                widget: "list"
                allow_add: true
              - { label: "摘要", name: "excerpt", widget: "text" }
              - { label: "封面", name: "cover", widget: "image", required: false, hint: "建議 1600x1000（橫向）" }
              - { label: "期刊 ID", name: "issue", widget: "string", required: false, hint: "例如 2026Q1" }
              - { label: "Slug", name: "slug", widget: "string", hint: "只用英文小寫、數字、-，例如 city-walk-notes" }
              - { label: "內文", name: "body", widget: "markdown", hint: "可在游標位置插入圖片元件；建議文內圖 1200x800，直圖 1080x1350" }

      - name: "issues"
        label: "期刊列表"
        file: "posts/issues.json"
        format: "json"
        fields:
          - label: "期刊"
            name: "issues"
            widget: "list"
            summary: "{{fields.id}} · {{fields.title}}"
            fields:
              - { label: "期刊 ID", name: "id", widget: "string", hint: "例如 2026Q1" }
              - { label: "標題", name: "title", widget: "string" }
              - { label: "主題", name: "theme", widget: "string" }
              - { label: "封面", name: "cover", widget: "image", required: false, hint: "建議 1400x900（期刊卡面）" }
              - { label: "發布日期", name: "publishDate", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
              - { label: "編者語", name: "editorNote", widget: "text" }
              - label: "收錄文章 Slug"
                name: "posts"
                widget: "list"
                hint: "輸入文章 slug（例如 city-walk-notes）"

      - name: "site"
        label: "站點資訊"
        file: "posts/site.json"
        format: "json"
        fields:
          - { label: "站名", name: "siteName", widget: "string" }
          - { label: "首頁小標", name: "homeKicker", widget: "string" }
          - { label: "首頁主標", name: "homeTitle", widget: "string" }
          - { label: "首頁副標", name: "homeSubtitle", widget: "text" }
          - { label: "最新文章標題", name: "latestTitle", widget: "string" }
          - { label: "期刊區說明字", name: "issueCardNote", widget: "string", required: false }
          - { label: "首頁期刊封面覆蓋", name: "homeIssueCoverOverride", widget: "image", required: false, hint: "如需固定首頁封面，直接上傳；不填則使用最新一期封面" }
          - label: "首頁輪播期刊 ID"
            name: "homeIssueIds"
            widget: "list"
            required: false
            hint: "可填多個，例如 2026Q1, 2026Q2；不填則自動按發布日期顯示全部"
          - { label: "底部文案", name: "footerText", widget: "string" }
          - { label: "關於標題", name: "aboutTitle", widget: "string" }
          - { label: "關於段落 1", name: "aboutIntro", widget: "text" }
          - { label: "關於段落 2", name: "aboutStyle", widget: "text" }
          - { label: "城市", name: "city", widget: "string" }
          - { label: "Email", name: "email", widget: "string" }
          - { label: "主題", name: "topics", widget: "string" }
